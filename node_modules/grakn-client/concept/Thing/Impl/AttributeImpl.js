/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
(function (factory) {
    if (typeof module === "object" && typeof module.exports === "object") {
        var v = factory(require, exports);
        if (v !== undefined) module.exports = v;
    }
    else if (typeof define === "function" && define.amd) {
        define("grakn-client/concept/Thing/Impl/AttributeImpl", ["require", "exports", "grakn-client/concept/Thing/Impl/ThingImpl", "grakn-client/concept/Concept"], factory);
    }
})(function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DateTimeAttributeImpl = exports.RemoteDoubleAttributeImpl = exports.DoubleAttributeImpl = exports.RemoteStringAttributeImpl = exports.StringAttributeImpl = exports.RemoteLongAttributeImpl = exports.LongAttributeImpl = exports.RemoteBooleanAttributeImpl = exports.BooleanAttributeImpl = exports.RemoteAttributeImpl = exports.AttributeImpl = void 0;
    const ThingImpl_1 = require("grakn-client/concept/Thing/Impl/ThingImpl");
    const Concept_1 = require("grakn-client/concept/Concept");
    class AttributeImpl extends ThingImpl_1.ThingImpl {
        constructor(iid) {
            super(iid);
        }
        static of(protoThing) {
            throw "circular reference"; // TODO
        }
    }
    exports.AttributeImpl = AttributeImpl;
    class RemoteAttributeImpl extends ThingImpl_1.RemoteThingImpl {
        constructor(transaction, iid) {
            super(transaction, iid);
        }
        getOwners(ownerType) {
            return new Concept_1.QueryIterator();
        }
        getType() {
            throw "Not implemented yet";
        }
    }
    exports.RemoteAttributeImpl = RemoteAttributeImpl;
    class BooleanAttributeImpl extends AttributeImpl {
        constructor(iid, value) {
            super(iid);
            this.value = value;
        }
        static of(protoThing) {
            return new BooleanAttributeImpl(protoThing.getIid_asB64(), protoThing.getValue().getBoolean());
        }
        asRemote(transaction) {
            return new RemoteBooleanAttributeImpl(transaction, this.getIID(), this.value);
        }
        getValue() {
            return this.value;
        }
    }
    exports.BooleanAttributeImpl = BooleanAttributeImpl;
    class RemoteBooleanAttributeImpl extends RemoteAttributeImpl {
        constructor(transaction, iid, value) {
            super(transaction, iid);
            this.value = value;
        }
        getValue() {
            return this.value;
        }
        getType() {
            throw "Not implemented yet";
        }
        asRemote(transaction) {
            return new RemoteBooleanAttributeImpl(transaction, this.getIID(), this.value);
        }
    }
    exports.RemoteBooleanAttributeImpl = RemoteBooleanAttributeImpl;
    class LongAttributeImpl extends AttributeImpl {
        constructor(iid, value) {
            super(iid);
            this.value = value;
        }
        static of(protoThing) {
            return new LongAttributeImpl(protoThing.getIid_asB64(), protoThing.getValue().getLong());
        }
        asRemote(transaction) {
            return new RemoteLongAttributeImpl(transaction, this.getIID(), this.value);
        }
        getValue() {
            return this.value;
        }
    }
    exports.LongAttributeImpl = LongAttributeImpl;
    class RemoteLongAttributeImpl extends RemoteAttributeImpl {
        constructor(transaction, iid, value) {
            super(transaction, iid);
            this.value = value;
        }
        getValue() {
            return this.value;
        }
        getType() {
            throw "Of not present";
        }
        asRemote(transaction) {
            return this;
        }
    }
    exports.RemoteLongAttributeImpl = RemoteLongAttributeImpl;
    class StringAttributeImpl extends AttributeImpl {
        constructor(iid, value) {
            super(iid);
            this.value = value;
        }
        static of(protoThing) {
            return new StringAttributeImpl(protoThing.getIid_asB64(), protoThing.getValue().getString());
        }
        asRemote(transaction) {
            return new RemoteStringAttributeImpl(transaction, this.getIID(), this.value);
        }
        getValue() {
            return this.value;
        }
    }
    exports.StringAttributeImpl = StringAttributeImpl;
    class RemoteStringAttributeImpl extends RemoteAttributeImpl {
        constructor(transaction, iid, value) {
            super(transaction, iid);
            this.value = value;
        }
        getValue() {
            return this.value;
        }
        getType() {
            throw "Of not present";
        }
        asRemote(transaction) {
            return this;
        }
    }
    exports.RemoteStringAttributeImpl = RemoteStringAttributeImpl;
    class DoubleAttributeImpl extends AttributeImpl {
        constructor(iid, value) {
            super(iid);
            this.value = value;
        }
        static of(protoThing) {
            return new DoubleAttributeImpl(protoThing.getIid_asB64(), protoThing.getValue().getDouble());
        }
        asRemote(transaction) {
            return new RemoteDoubleAttributeImpl(transaction, this.getIID(), this.value);
        }
        getValue() {
            return this.value;
        }
    }
    exports.DoubleAttributeImpl = DoubleAttributeImpl;
    class RemoteDoubleAttributeImpl extends RemoteAttributeImpl {
        constructor(transaction, iid, value) {
            super(transaction, iid);
            this.value = value;
        }
        getValue() {
            return this.value;
        }
        getType() {
            throw "Not implemented yet";
        }
        asRemote(transaction) {
            return this;
        }
    }
    exports.RemoteDoubleAttributeImpl = RemoteDoubleAttributeImpl;
    class DateTimeAttributeImpl extends AttributeImpl {
        constructor(iid, value) {
            super(iid);
            this.value = value;
        }
        static of(protoThing) {
            return new DateTimeAttributeImpl(protoThing.getIid_asB64(), new Date(protoThing.getValue().getDateTime()));
        }
        asRemote(transaction) {
            return new RemoteDateTimeAttributeImpl(transaction, this.getIID(), this.value);
        }
        getValue() {
            return this.value;
        }
    }
    exports.DateTimeAttributeImpl = DateTimeAttributeImpl;
    class RemoteDateTimeAttributeImpl extends RemoteAttributeImpl {
        constructor(transaction, iid, value) {
            super(transaction, iid);
            this.value = value;
        }
        getValue() {
            return this.value;
        }
        getType() {
            throw "Of not present";
        }
        asRemote(transaction) {
            return this;
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXR0cmlidXRlSW1wbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2NvbmNlcHQvVGhpbmcvSW1wbC9BdHRyaWJ1dGVJbXBsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztHQWlCRzs7Ozs7Ozs7Ozs7OztJQUdILHlFQUF5RDtJQUV6RCwwREFBOEM7SUFTOUMsTUFBc0IsYUFBb0MsU0FBUSxxQkFBUztRQUN2RSxZQUFzQixHQUFXO1lBQzdCLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNmLENBQUM7UUFFRCxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQThCO1lBQ3BDLE1BQU0sb0JBQW9CLENBQUMsQ0FBQyxPQUFPO1FBQ3ZDLENBQUM7S0FLSjtJQVpELHNDQVlDO0lBRUQsTUFBc0IsbUJBQTBDLFNBQVEsMkJBQWU7UUFDbkYsWUFBc0IsV0FBd0IsRUFBRSxHQUFXO1lBQ3ZELEtBQUssQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUVELFNBQVMsQ0FBQyxTQUFvQjtZQUMxQixPQUFPLElBQUksdUJBQWEsRUFBRSxDQUFBO1FBQzlCLENBQUM7UUFFRCxPQUFPO1lBQ0gsTUFBTSxxQkFBcUIsQ0FBQztRQUNoQyxDQUFDO0tBS0o7SUFoQkQsa0RBZ0JDO0lBRUQsTUFBYSxvQkFBcUIsU0FBUSxhQUFzQjtRQUc1RCxZQUFZLEdBQVcsRUFBRSxLQUFjO1lBQ25DLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLENBQUM7UUFFRCxNQUFNLENBQUMsRUFBRSxDQUFDLFVBQThCO1lBQ3BDLE9BQU8sSUFBSSxvQkFBb0IsQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFDbkcsQ0FBQztRQUVELFFB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WUFDSCxNQUFNLGdCQUFnQixDQUFBO1FBQzFCLENBQUM7UUFFRCxRQUFRLENBQUMsV0FBd0I7WUFDN0IsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztLQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF0dHJpYnV0ZSwgUmVtb3RlQXR0cmlidXRlLCBCb29sZWFuQXR0cmlidXRlLCBEYXRlVGltZUF0dHJpYnV0ZSwgRG91YmxlQXR0cmlidXRlLCBMb25nQXR0cmlidXRlLCBTdHJpbmdBdHRyaWJ1dGUsIFJlbW90ZUJvb2xlYW5BdHRyaWJ1dGUsIFJlbW90ZUxvbmdBdHRyaWJ1dGUsIFJlbW90ZVN0cmluZ0F0dHJpYnV0ZSwgUmVtb3RlRG91YmxlQXR0cmlidXRlLCBSZW1vdGVEYXRlVGltZUF0dHJpYnV0ZSB9IGZyb20gXCIuLi9BdHRyaWJ1dGVcIjtcbmltcG9ydCB7IFRoaW5nSW1wbCwgUmVtb3RlVGhpbmdJbXBsIH0gZnJvbSBcIi4vVGhpbmdJbXBsXCI7XG5pbXBvcnQgeyBUaGluZ1R5cGUgfSBmcm9tIFwiLi4vLi4vVHlwZS9UaGluZ1R5cGVcIjtcbmltcG9ydCB7IFF1ZXJ5SXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vQ29uY2VwdFwiO1xuaW1wb3J0IHsgQXR0cmlidXRlVHlwZUltcGwsIEJvb2xlYW5BdHRyaWJ1dGVUeXBlSW1wbCwgRGF0ZVRpbWVBdHRyaWJ1dGVUeXBlSW1wbCwgRG91YmxlQXR0cmlidXRlVHlwZUltcGwsIExvbmdBdHRyaWJ1dGVUeXBlSW1wbCwgU3RyaW5nQXR0cmlidXRlVHlwZUltcGwgfSBmcm9tIFwiLi4vLi4vVHlwZS9JbXBsL0F0dHJpYnV0ZVR5cGVJbXBsXCI7XG5pbXBvcnQgeyBBdHRyaWJ1dGVUeXBlIH0gZnJvbSBcIi4uLy4uL1R5cGUvQXR0cmlidXRlVHlwZVwiO1xuaW1wb3J0IFZhbHVlQ2xhc3MgPSBBdHRyaWJ1dGVUeXBlLlZhbHVlQ2xhc3M7XG5pbXBvcnQgeyBHcmFrbiB9IGZyb20gXCIuLi8uLi8uLi9HcmFrblwiO1xuaW1wb3J0IFRyYW5zYWN0aW9uID0gR3Jha24uVHJhbnNhY3Rpb247XG5pbXBvcnQgeyBNZXJnZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdXRpbHNcIjtcbmltcG9ydCBDb25jZXB0UHJvdG8gZnJvbSBcImdyYWtubGFicy1ncnBjLXByb3RvY29sL3Byb3RvYnVmL2NvbmNlcHRfcGJcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEF0dHJpYnV0ZUltcGw8VCBleHRlbmRzIFZhbHVlQ2xhc3M+IGV4dGVuZHMgVGhpbmdJbXBsIGltcGxlbWVudHMgQXR0cmlidXRlPFQ+IHtcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoaWlkOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoaWlkKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb2YocHJvdG9UaGluZzogQ29uY2VwdFByb3RvLlRoaW5nKTogQXR0cmlidXRlSW1wbDxWYWx1ZUNsYXNzPiB7XG4gICAgICAgIHRocm93IFwiY2lyY3VsYXIgcmVmZXJlbmNlXCI7IC8vIFRPRE9cbiAgICB9XG5cbiAgICBhYnN0cmFjdCBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVBdHRyaWJ1dGU8VD47XG5cbiAgICBhYnN0cmFjdCBnZXRWYWx1ZSgpOiBUO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVtb3RlQXR0cmlidXRlSW1wbDxUIGV4dGVuZHMgVmFsdWVDbGFzcz4gZXh0ZW5kcyBSZW1vdGVUaGluZ0ltcGwgaW1wbGVtZW50cyBSZW1vdGVBdHRyaWJ1dGU8VD4ge1xuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24sIGlpZDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHRyYW5zYWN0aW9uLCBpaWQpO1xuICAgIH1cblxuICAgIGdldE93bmVycyhvd25lclR5cGU6IFRoaW5nVHlwZSk6IFF1ZXJ5SXRlcmF0b3Ige1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5SXRlcmF0b3IoKVxuICAgIH1cblxuICAgIGdldFR5cGUoKTogQXR0cmlidXRlVHlwZUltcGwge1xuICAgICAgICB0aHJvdyBcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIjtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVBdHRyaWJ1dGU8VD47XG5cbiAgICBhYnN0cmFjdCBnZXRWYWx1ZSgpOiBUO1xufVxuXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZUltcGwgZXh0ZW5kcyBBdHRyaWJ1dGVJbXBsPGJvb2xlYW4+IGltcGxlbWVudHMgQm9vbGVhbkF0dHJpYnV0ZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB2YWx1ZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGlpZDogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihpaWQpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIG9mKHByb3RvVGhpbmc6IENvbmNlcHRQcm90by5UaGluZyk6IEJvb2xlYW5BdHRyaWJ1dGVJbXBsIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb29sZWFuQXR0cmlidXRlSW1wbChwcm90b1RoaW5nLmdldElpZF9hc0I2NCgpLCBwcm90b1RoaW5nLmdldFZhbHVlKCkuZ2V0Qm9vbGVhbigpKTtcbiAgICB9XG5cbiAgICBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVCb29sZWFuQXR0cmlidXRlSW1wbCB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlQm9vbGVhbkF0dHJpYnV0ZUltcGwodHJhbnNhY3Rpb24sIHRoaXMuZ2V0SUlEKCksIHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZW1vdGVCb29sZWFuQXR0cmlidXRlSW1wbCBleHRlbmRzIFJlbW90ZUF0dHJpYnV0ZUltcGw8Ym9vbGVhbj4gaW1wbGVtZW50cyBNZXJnZTxSZW1vdGVCb29sZWFuQXR0cmlidXRlLCBCb29sZWFuQXR0cmlidXRlPiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB2YWx1ZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiwgaWlkOiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKXtcbiAgICAgICAgc3VwZXIodHJhbnNhY3Rpb24sIGlpZCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0VHlwZSgpOiBCb29sZWFuQXR0cmlidXRlVHlwZUltcGwge1xuICAgICAgICB0aHJvdyBcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIlxuICAgIH1cblxuICAgIGFzUmVtb3RlKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbik6IFJlbW90ZUJvb2xlYW5BdHRyaWJ1dGVJbXBsIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVCb29sZWFuQXR0cmlidXRlSW1wbCh0cmFuc2FjdGlvbiwgdGhpcy5nZXRJSUQoKSwgdGhpcy52YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9uZ0F0dHJpYnV0ZUltcGwgZXh0ZW5kcyBBdHRyaWJ1dGVJbXBsPG51bWJlcj4gaW1wbGVtZW50cyBMb25nQXR0cmlidXRlIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpaWQ6IHN0cmluZywgdmFsdWU6IG51bWJlcikge1xuICAgICAgICBzdXBlcihpaWQpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIG9mKHByb3RvVGhpbmc6IENvbmNlcHRQcm90by5UaGluZyk6IExvbmdBdHRyaWJ1dGVJbXBsIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb25nQXR0cmlidXRlSW1wbChwcm90b1RoaW5nLmdldElpZF9hc0I2NCgpLCBwcm90b1RoaW5nLmdldFZhbHVlKCkuZ2V0TG9uZygpKTtcbiAgICB9XG5cbiAgICBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVMb25nQXR0cmlidXRlSW1wbCB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlTG9uZ0F0dHJpYnV0ZUltcGwodHJhbnNhY3Rpb24sIHRoaXMuZ2V0SUlEKCksIHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbW90ZUxvbmdBdHRyaWJ1dGVJbXBsIGV4dGVuZHMgUmVtb3RlQXR0cmlidXRlSW1wbDxudW1iZXI+IGltcGxlbWVudHMgTWVyZ2U8UmVtb3RlTG9uZ0F0dHJpYnV0ZSwgTG9uZ0F0dHJpYnV0ZT4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiwgaWlkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpe1xuICAgICAgICBzdXBlcih0cmFuc2FjdGlvbiwgaWlkKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIGdldFR5cGUoKTogTG9uZ0F0dHJpYnV0ZVR5cGVJbXBsIHtcbiAgICAgICAgdGhyb3cgXCJPZiBub3QgcHJlc2VudFwiXG4gICAgfVxuXG4gICAgYXNSZW1vdGUodHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uKTogUmVtb3RlTG9uZ0F0dHJpYnV0ZUltcGwge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdBdHRyaWJ1dGVJbXBsIGV4dGVuZHMgQXR0cmlidXRlSW1wbDxzdHJpbmc+IGltcGxlbWVudHMgQXR0cmlidXRlPHN0cmluZz4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGlpZDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKGlpZCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb2YocHJvdG9UaGluZzogQ29uY2VwdFByb3RvLlRoaW5nKTogU3RyaW5nQXR0cmlidXRlSW1wbCB7XG4gICAgICAgIHJldHVybiBuZXcgU3RyaW5nQXR0cmlidXRlSW1wbChwcm90b1RoaW5nLmdldElpZF9hc0I2NCgpLCBwcm90b1RoaW5nLmdldFZhbHVlKCkuZ2V0U3RyaW5nKCkpO1xuICAgIH1cblxuICAgIGFzUmVtb3RlKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbik6IFJlbW90ZVN0cmluZ0F0dHJpYnV0ZUltcGwge1xuICAgICAgICByZXR1cm4gbmV3IFJlbW90ZVN0cmluZ0F0dHJpYnV0ZUltcGwodHJhbnNhY3Rpb24sIHRoaXMuZ2V0SUlEKCksIHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbW90ZVN0cmluZ0F0dHJpYnV0ZUltcGwgZXh0ZW5kcyBSZW1vdGVBdHRyaWJ1dGVJbXBsPHN0cmluZz4gaW1wbGVtZW50cyBNZXJnZTxSZW1vdGVTdHJpbmdBdHRyaWJ1dGUsIFN0cmluZ0F0dHJpYnV0ZT4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiwgaWlkOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpe1xuICAgICAgICBzdXBlcih0cmFuc2FjdGlvbiwgaWlkKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIGdldFR5cGUoKTogU3RyaW5nQXR0cmlidXRlVHlwZUltcGwge1xuICAgICAgICB0aHJvdyBcIk9mIG5vdCBwcmVzZW50XCJcbiAgICB9XG5cbiAgICBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVTdHJpbmdBdHRyaWJ1dGVJbXBsIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRG91YmxlQXR0cmlidXRlSW1wbCBleHRlbmRzIEF0dHJpYnV0ZUltcGw8bnVtYmVyPiBpbXBsZW1lbnRzIEF0dHJpYnV0ZTxudW1iZXI+IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpaWQ6IHN0cmluZywgdmFsdWU6IG51bWJlcikge1xuICAgICAgICBzdXBlcihpaWQpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIG9mKHByb3RvVGhpbmc6IENvbmNlcHRQcm90by5UaGluZyk6IERvdWJsZUF0dHJpYnV0ZUltcGwge1xuICAgICAgICByZXR1cm4gbmV3IERvdWJsZUF0dHJpYnV0ZUltcGwocHJvdG9UaGluZy5nZXRJaWRfYXNCNjQoKSwgcHJvdG9UaGluZy5nZXRWYWx1ZSgpLmdldERvdWJsZSgpKTtcbiAgICB9XG5cbiAgICBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVEb3VibGVBdHRyaWJ1dGVJbXBsIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVEb3VibGVBdHRyaWJ1dGVJbXBsKHRyYW5zYWN0aW9uLCB0aGlzLmdldElJRCgpLCB0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFJlbW90ZURvdWJsZUF0dHJpYnV0ZUltcGwgZXh0ZW5kcyBSZW1vdGVBdHRyaWJ1dGVJbXBsPG51bWJlcj4gaW1wbGVtZW50cyBNZXJnZTxSZW1vdGVEb3VibGVBdHRyaWJ1dGUsIERvdWJsZUF0dHJpYnV0ZT4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiwgaWlkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpe1xuICAgICAgICBzdXBlcih0cmFuc2FjdGlvbiwgaWlkKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIGdldFR5cGUoKTogRG91YmxlQXR0cmlidXRlVHlwZUltcGwge1xuICAgICAgICB0aHJvdyBcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIjtcbiAgICB9XG5cbiAgICBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVEb3VibGVBdHRyaWJ1dGVJbXBsIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBEYXRlVGltZUF0dHJpYnV0ZUltcGwgZXh0ZW5kcyBBdHRyaWJ1dGVJbXBsPERhdGU+IGltcGxlbWVudHMgRGF0ZVRpbWVBdHRyaWJ1dGUge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IERhdGU7XG5cbiAgICBjb25zdHJ1Y3RvcihpaWQ6IHN0cmluZywgdmFsdWU6IERhdGUpIHtcbiAgICAgICAgc3VwZXIoaWlkKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBvZihwcm90b1RoaW5nOiBDb25jZXB0UHJvdG8uVGhpbmcpOiBEYXRlVGltZUF0dHJpYnV0ZUltcGwge1xuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lQXR0cmlidXRlSW1wbChwcm90b1RoaW5nLmdldElpZF9hc0I2NCgpLCBuZXcgRGF0ZShwcm90b1RoaW5nLmdldFZhbHVlKCkuZ2V0RGF0ZVRpbWUoKSkpO1xuICAgIH1cblxuICAgIGFzUmVtb3RlKHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbik6IFJlbW90ZURhdGVUaW1lQXR0cmlidXRlSW1wbCB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlRGF0ZVRpbWVBdHRyaWJ1dGVJbXBsKHRyYW5zYWN0aW9uLCB0aGlzLmdldElJRCgpLCB0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxufVxuXG5cbmNsYXNzIFJlbW90ZURhdGVUaW1lQXR0cmlidXRlSW1wbCBleHRlbmRzIFJlbW90ZUF0dHJpYnV0ZUltcGw8RGF0ZT4gaW1wbGVtZW50cyBNZXJnZTxSZW1vdGVEYXRlVGltZUF0dHJpYnV0ZSwgRGF0ZVRpbWVBdHRyaWJ1dGU+IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlOiBEYXRlO1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uLCBpaWQ6IHN0cmluZywgdmFsdWU6IERhdGUpe1xuICAgICAgICBzdXBlcih0cmFuc2FjdGlvbiwgaWlkKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCk6IERhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRUeXBlKCk6IERhdGVUaW1lQXR0cmlidXRlVHlwZUltcGwge1xuICAgICAgICB0aHJvdyBcIk9mIG5vdCBwcmVzZW50XCJcbiAgICB9XG5cbiAgICBhc1JlbW90ZSh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBSZW1vdGVEYXRlVGltZUF0dHJpYnV0ZUltcGwge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iXX0=